"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0==o)return!1;var i,r,t=0|t,a=Math.max(0<=t?t:o-Math.abs(t),0);for(;a<o;){if((i=n[a])===(r=e)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;a++}return!1}}),NodeList.prototype.forEach||(NodeList.prototype.forEach=function(e,t){for(var n=0,o=this.length;n<o;++n)e.call(t,this[n],n,this)}),function(e,t){var n="CyrLatConverter";"function"==typeof define&&define.amd?define([],t(n)):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(n):e[n]=t(n)}("undefined"!=typeof self?self:void 0,function(){var defaults={cookieDuration:0,ignoreClasses:[],permalinkHashLat:"#lat",permalinkHashCyr:"#cyr",usePermalinkHash:!1,ignoreListIncludeUnicode:!0,benchmark:!1,benchmarkEval:"console.log('Execution time: %s%')",onClickCyr:"",onClickLat:"",onClickDefault:""},SELECTOR="body",start,initBenchmarkActive=!1,Lat2Cyr={a:"а",b:"б",c:"ц",d:"д",e:"е",f:"ф",g:"г",h:"х",i:"и",j:"ј",k:"к",l:"л",m:"м",n:"н",o:"о",p:"п",q:"",r:"р",s:"с",t:"т",u:"у",v:"в",w:"",x:"",y:"",z:"з",A:"А",B:"Б",C:"Ц",D:"Д",E:"Е",F:"Ф",G:"Г",H:"Х",I:"И",J:"Ј",K:"К",L:"Л",M:"М",N:"Н",O:"О",P:"П",Q:"",R:"Р",S:"С",T:"Т",U:"У",V:"В",W:"",X:"",Y:"",Z:"З","č":"ч","ć":"ћ","đ":"ђ","ž":"ж","š":"ш","Č":"Ч","Ć":"Ћ","Đ":"Ђ","Ž":"Ж","Š":"Ш"},Cyr2Lat={"а":"a","б":"b","ц":"c","д":"d","е":"e","ф":"f","г":"g","х":"h","и":"i","ј":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","в":"v","з":"z","А":"A","Б":"B","Ц":"C","Д":"D","Е":"E","Ф":"F","Г":"G","Х":"H","И":"I","Ј":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","В":"V","З":"Z","ч":"č","ћ":"ć","ж":"ž","ш":"š","љ":"lj","њ":"nj","ђ":"đ","џ":"dz","Ч":"Č","Ћ":"Ć","Ж":"Ž","Ш":"Š","Љ":"Lj","Њ":"Nj","Ђ":"Đ","Џ":"Dž"},Lat2Cyr_chained={l:{j:"љ"},n:{j:"њ"},d:{j:"ђ",z:"џ","ž":"џ"},L:{j:"Љ",J:"Љ"},N:{j:"Њ",J:"Њ"},D:{j:"Ђ",J:"Ђ",z:"Џ",Z:"Џ","ž":"Џ","Ž":"Џ"}},extend=function(e,t){var n,o={};for(n in defaults)Object.prototype.hasOwnProperty.call(defaults,n)&&(o[n]=defaults[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o};function CyrLatConverter(e){this.SELECTOR=e}CyrLatConverter.prototype={init:function init(config){this.config=extend(defaults,config);var $this=this;Array.isArray(this.config.ignoreClasses)||console.error('Parameter "ignoreClasses" must be an array of classes to ignore.'),""!==this.config.onClickCyr&&document.querySelectorAll(this.config.onClickCyr).forEach(function(e){e.addEventListener("click",function(){$this.L2C($this.SELECTOR)},!1)}),""!==this.config.onClickLat&&document.querySelectorAll(this.config.onClickLat).forEach(function(e){e.addEventListener("click",function(){$this.C2L($this.SELECTOR)},!1)}),""!==this.config.onClickDefault&&document.querySelectorAll(this.config.onClickDefault).forEach(function(e){e.addEventListener("click",function(){$this.Default($this.SELECTOR)},!1)}),!0===this.config.benchmark&&(start=(new Date).getTime(),initBenchmarkActive=!0);var hash_set=!1;!0===this.config.usePermalinkHash&&(hash_set=initHash.call(this));var direction="";return 0<this.config.cookieDuration&&(direction=getCookie.call(this)),!1===hash_set&&"L2C"===direction&&this.L2C(SELECTOR),!1===hash_set&&"C2L"===direction&&this.C2L(SELECTOR),!0===this.config.benchmark&&(eval(this.config.benchmarkEval.replace("%s%",(new Date).getTime()-start+"ms")),initBenchmarkActive=!1),$this},C2L:function C2L(selector){void 0!==selector&&(this.SELECTOR=selector);var $this=this;return!0!==this.config.benchmark||initBenchmarkActive||(start=(new Date).getTime()),document.querySelectorAll(this.SELECTOR).forEach(function(e){convert_C2L.call($this,e)}),0<this.config.cookieDuration&&setCookie.call($this,"C2L"),!0!==this.config.benchmark||initBenchmarkActive||eval(this.config.benchmarkEval.replace("%s%",(new Date).getTime()-start+"ms")),void 0!==this.config.onC2L&&this.config.onC2L.call(),$this},L2C:function L2C(selector){void 0!==selector&&(this.SELECTOR=selector);var $this=this;return!0!==this.config.benchmark||initBenchmarkActive||(start=(new Date).getTime()),document.querySelectorAll(this.SELECTOR).forEach(function(e){convert_L2C.call($this,e)}),0<this.config.cookieDuration&&setCookie.call($this,"L2C"),!0!==this.config.benchmark||initBenchmarkActive||eval(this.config.benchmarkEval.replace("%s%",(new Date).getTime()-start+"ms")),void 0!==this.config.onC2L&&this.config.onL2C.call(),$this},Default:function(){return 0<this.config.cookieDuration&&setCookie("default"),!0===this.config.usePermalinkHash&&(window.location.hash=""),location.reload(!0),this},getL2C:function(e){return replace_L2C.call(this,e)},getC2L:function(e){return replace_C2L.call(this,e)},setSelector:function(e){this.SELECTOR=e}};var hasClass=function(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},hashCallback=function(){console.log(this),window.location.hash===this.config.permalinkHashLat&&this.C2L.call(this),window.location.hash===this.config.permalinkHashCyr&&this.L2C.call(this)},initHash=function(){var t,e=this;return"onhashchange"in window?window.addEventListener?window.addEventListener("hashchange",function(){hashCallback.call(e)},!1):window.attachEvent&&window.attachEvent("onhashchange",function(){hashCallback.call(e)}):(t=location.href,setInterval(function(){var e=location.href;t!==e&&(t=e,hashCallback.call(this))},100)),hashCallback.call(this),window.location.hash===this.config.permalinkHashLat||window.location.hash===this.config.permalinkHashCyr},setCookie=function(e){var t,n="; ";this.config.cookieDuration&&((t=new Date).setDate(t.getDate()+this.config.cookieDuration),n="; expires="+t.toUTCString()+"; "),document.cookie="CyrLatConverterSelected="+e+n+"path=/"},getCookie=function(){for(var e="CyrLatConverterSelected=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},splitWords=function(e){var t=!0===this.config.ignoreListIncludeUnicode?"[^0-9a-zA-ZЀ-ӿ_čČćĆžŽšŠđĐ]+":"[^0-9a-zA-Z_čČćĆžŽšŠđĐ]+";if(3==="test string".split(/([^a-z])/).length)return e.split(new RegExp("("+t+")","i"));var t=new RegExp(t,"gi"),n=0,o=e.split(t),i=e.match(t),r=[];if(0===o.length)return i;if(null===i)return o;if(i.length===o.length+1){for(n=0;n<o.length;n++)r.push(i[n]),r.push(o[n]);r.push(i[n])}else if(i.length===o.length)if(-1<o[0].indexOf(i[0]))for(var a=0;a<i.length;a++)r.push(i[a]),r.push(o[a]);else for(var c=0;c<i.length;c++)r.push(o[c]),r.push(i[c]);else for(r.push(o[0]),n=0;n<i.length;n++)r.push(i[n]),r.push(o[n+1]);return r},recursiveCheckParent=function(e){var o=this;if(0===this.config.ignoreClasses.length)return!1;var i=this.config.ignoreClasses;return function(t){for(;t.parentNode;){if(t.className){var n=!1;return[].forEach.call(i,function(e){hasClass.call(o,t,e)&&(n=!0)}),n}t=t.parentNode}return!1}(e)},replace_L2C=function(e){var n,o,i,r,a=splitWords.call(this,e);return a.forEach(function(t,e){void 0!==CyrLatIgnoreList&&t.toString().toLowerCase()in CyrLatIgnoreList?a[e]=""===CyrLatIgnoreList[t.toString().toLowerCase()]?t:CyrLatIgnoreList[t.toString().toLowerCase()]:(r=!(void 0!==CyrLatIgnore_doubleLetters&&-1<CyrLatIgnore_doubleLetters.indexOf(t.toString().toLowerCase())),void 0!==CyrLatIgnore_doubleLettersBase&&CyrLatIgnore_doubleLettersBase.forEach(function(e){if(-1<t.toString().toLowerCase().indexOf(e))return r=!1}),(n=t.split("")).forEach(function(e,t){o=!1,Lat2Cyr_chained[e]&&r&&(i=n[t+1])&&Lat2Cyr_chained[e][i]&&(n[t]=Lat2Cyr_chained[e][i],n[t+1]="",o=!0),o||(n[t]=Lat2Cyr[e]&&""!==Lat2Cyr[e]?Lat2Cyr[e]:e)}),a[e]=n.join(""))}),a.join("")},replace_C2L=function(e){var n;if(void 0===CyrLatIgnoreList)return(n=e.split("")).forEach(function(e,t){n[t]=Cyr2Lat[e]&&""!==Cyr2Lat[e]?Cyr2Lat[e]:e}),n.join("");var o=splitWords.call(this,e);return o.forEach(function(e,t){e.toString().toLowerCase()in CyrLatIgnoreList?o[t]=""===CyrLatIgnoreList[e.toString().toLowerCase()]?e:CyrLatIgnoreList[e.toString().toLowerCase()]:((n=e.split("")).forEach(function(e,t){n[t]=Cyr2Lat[e]&&""!==Cyr2Lat[e]?Cyr2Lat[e]:e}),o[t]=n.join(""))}),o.join("")},convert_L2C=function t(e){var n=this;e.childNodes.forEach(function(e){if(!(["iframe","script","style","code","pre"].includes(e.nodeName.toLowerCase())||1===e.nodeType&&hasClass.call(n,e,"CyrLatIgnore")))return 3!==e.nodeType||recursiveCheckParent.call(n,e)?1===e.nodeType&&(void 0===e.placeholder||recursiveCheckParent.call(n,e)||(e.placeholder=replace_L2C.call(n,e.placeholder)),t.call(n,e),!0):(void 0!==e.textContent?e.textContent=replace_L2C.call(n,e.textContent):void 0!==this.innerText?e.innerText=replace_L2C.call(n,e.innerText):void 0!==this.nodeValue&&(e.nodeValue=replace_L2C.call(n,e.nodeValue)),!0)})},convert_C2L=function t(e){var n=this;e.childNodes.forEach(function(e){if(!(["iframe","script","style","code","pre"].includes(e.nodeName.toLowerCase())||1===e.nodeType&&hasClass.call(n,e,"CyrLatIgnore")))return 3!==e.nodeType||recursiveCheckParent.call(n,e)?1===e.nodeType&&(void 0===e.placeholder||recursiveCheckParent.call(n,e)||(e.placeholder=replace_C2L.call(n,e.placeholder)),t.call(n,e),!0):(void 0!==e.textContent?e.textContent=replace_C2L.call(n,e.textContent):void 0!==e.innerText?this.innerText=replace_C2L.call(n,e.innerText):void 0!==e.nodeValue&&(e.nodeValue=replace_C2L.call(n,e.nodeValue)),!0)})};return CyrLatConverter});var CyrLatIgnoreList={plugin:"",jquery:"jQuery",default:"",copyright:"",trademark:"",web:"",browser:"",javascript:"",microsoft:"Microsoft",firefox:"Firefox",opera:"Opera",safari:"Safari",chrome:"Chrome",ie:"IE",download:"",windows:"",linux:"",office:"",cookie:"",cyrlatconverter:"",cyrlatconvert:"",cyrlatignore:""},CyrLatIgnore_doubleLetters=["njemačku"],CyrLatIgnore_doubleLettersBase=["anjon","adjektiv","adjunkt","budzašto","vanjezič","injekt","injekc","konjug","konjunk","lindzi","nadždrel","nadžet","nadžive","nadživ","nadžnje","nadžup","nadzemn","nadzida","nadzira","nadzire","nadziru","nadzor","nadjača","nadjaha","odžali","odžari","odžvaka","odžubor","odžive","odživlj","odzvanja","odzvoni","odziv","odjav","odjaha","odjaš","odjeb","odjedri","odjezdi","odjedanput","odjedared","odjednom","odjek","odjeci","odjur","podžanr","podzadat","podzakon","podzemlj","podzemn","podzida","podznak","podznaci","podjar","podjamči","podjezič","podjednak","predživot","predželuda","predzadnj","predznak","predznanj","predznaci","predjel","tanjug"];
//# sourceMappingURL=cyrlatconverter.js.map